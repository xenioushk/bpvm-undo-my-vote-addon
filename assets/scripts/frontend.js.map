{"version":3,"file":"scripts/frontend.js","mappings":"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","sources":["webpack://bpvm-undo-my-vote-addon/./src/modules/UndoVotingButton.js","webpack://bpvm-undo-my-vote-addon/./src/styles/frontend.scss","webpack://bpvm-undo-my-vote-addon/external var \"jQuery\"","webpack://bpvm-undo-my-vote-addon/webpack/bootstrap","webpack://bpvm-undo-my-vote-addon/webpack/runtime/compat get default export","webpack://bpvm-undo-my-vote-addon/webpack/runtime/define property getters","webpack://bpvm-undo-my-vote-addon/webpack/runtime/hasOwnProperty shorthand","webpack://bpvm-undo-my-vote-addon/webpack/runtime/make namespace object","webpack://bpvm-undo-my-vote-addon/./src/index.js"],"sourcesContent":["import $ from \"jquery\"\r\nclass UndoVotingButton {\r\n  //1. INITALIZATION\r\n  constructor() {\r\n    if ($(\".bwl_pvm_container\").length == 0) return\r\n\r\n    // Read the cookie\r\n    var $bpvm_umv_count = this.umv_getCookie(\"bpvm_umv\")\r\n\r\n    if ($bpvm_umv_count == null) {\r\n      this.umv_setCookie(\"bpvm_umv\", \"1\", \"1\")\r\n    }\r\n\r\n    // Cache elements.\r\n    this.events()\r\n  }\r\n\r\n  //2. EVENTS.\r\n  events() {\r\n    $(document).on(\"click\", \".bpvm_undo_vote\", this.cbUndoMyVote.bind(this))\r\n  }\r\n\r\n  //3. FUNCTIONS/ACTIONS.\r\n\r\n  cbUndoMyVote(e) {\r\n    e.preventDefault()\r\n    var $this = $(e.target),\r\n      $bpvm_umv_count = this.umv_getCookie(\"bpvm_umv\"),\r\n      $umv_max_count = $this.data(\"umv_max_count\")\r\n    if ($bpvm_umv_count > $umv_max_count) {\r\n      alert(\"WARNING: You are allowed to UNDO \" + $umv_max_count + \" votes in a day!\")\r\n      return false\r\n    }\r\n\r\n    this.umv_setCookie(\"bpvm_umv\", parseInt($bpvm_umv_count) + parseInt(1, 10), \"1\")\r\n\r\n    var $bpvm_data_id = $this.data(\"bpvm_data_id\"),\r\n      $post_id = $this.data(\"post_id\"),\r\n      $post_type = $this.data(\"post_type\"),\r\n      $vote_type = $this.data(\"vote_type\"),\r\n      $vote_date = $this.data(\"vote_date\"),\r\n      bpvm_btn_like = $this.closest(\"section\").find(\".btn_like\"),\r\n      bpvm_unique_id = bpvm_btn_like.attr(\"bpvm_unique_id\"),\r\n      post_id = bpvm_btn_like.attr(\"post_id\")\r\n\r\n    var $pvm_btn_container = $(\"#pvm_btn_container_\" + bpvm_unique_id),\r\n      $bwl_pvm_container = $pvm_btn_container.parent(\"section\"),\r\n      $pvm_stat_cnt = $(\"#stat-cnt-\" + bpvm_unique_id),\r\n      $pvm_total_vote_counter = $pvm_stat_cnt.find(\".total-vote-counter\"),\r\n      $pvm_total_dislike_counter = $pvm_stat_cnt.find(\".dislike-count-container\"),\r\n      $pvm_total_like_counter = $pvm_stat_cnt.find(\".like-count-container\"),\r\n      $pvm_result_percentage_status = $pvm_stat_cnt.data(\"result_percentage\")\r\n\r\n    $bwl_pvm_container.addClass(\"pvm_overlay\")\r\n\r\n    $pvm_btn_container.find(\".msg_container\").remove()\r\n\r\n    $pvm_btn_container.find('div[class*=\"btn_\"]').show()\r\n    $(\"#pvm_feedback_form_\" + bpvm_unique_id).slideUp()\r\n\r\n    var bpvm_data_array = new Array(),\r\n      bpvm_data_stack = new Array()\r\n\r\n    bpvm_data_array = [$bpvm_data_id, 1, $vote_type, $vote_date]\r\n    bpvm_data_stack.push(bpvm_data_array)\r\n\r\n    $.when(this.bpvm_remove_data($post_type, $post_id, bpvm_data_stack)).done(function (response_data) {\r\n      var $up_total_likes = response_data.total_likes,\r\n        $up_total_dislikes = response_data.total_dislikes,\r\n        $up_total_votes = parseInt($up_total_likes, 10) + parseInt($up_total_dislikes, 10)\r\n\r\n      if ($pvm_result_percentage_status == 1) {\r\n        $up_total_likes = this.umv_percentage_calculator($up_total_likes, $up_total_votes)\r\n\r\n        $up_total_dislikes = 100 - $up_total_likes\r\n\r\n        $up_total_likes = $up_total_likes + \"%\"\r\n        $up_total_dislikes = $up_total_dislikes + \"%\"\r\n      }\r\n\r\n      $pvm_total_like_counter.find(\"span\").html($up_total_likes)\r\n\r\n      $pvm_total_dislike_counter.find(\"span\").html($up_total_dislikes)\r\n\r\n      $pvm_total_vote_counter.find(\"span\").html($up_total_votes)\r\n\r\n      $bwl_pvm_container.removeClass(\"pvm_overlay\")\r\n    })\r\n  }\r\n\r\n  //4. Helper Function.\r\n\r\n  bpvm_remove_data(post_type, post_id, bpvm_data_stack) {\r\n    var tfa_status,\r\n      tfa_vis = \"\",\r\n      tfa_vie = \"\"\r\n\r\n    if ($(\".pvm_dynamic_sort_wrapper\").length > 0) {\r\n      var $pvm_dynamic_sort_wrapper = $(\".pvm_dynamic_sort_wrapper\"),\r\n        tfa_status = 1,\r\n        tfa_vis = $pvm_dynamic_sort_wrapper.data(\"start\"),\r\n        tfa_vie = $pvm_dynamic_sort_wrapper.data(\"end\")\r\n    }\r\n\r\n    return $.ajax({\r\n      type: \"POST\",\r\n      url: ajaxurl + \"?action=bpvm_delete_vote_data\",\r\n      data: {\r\n        post_type: post_type,\r\n        post_id: post_id,\r\n        bpvm_data_stack: bpvm_data_stack,\r\n        bpvm_undo_vote: 1,\r\n        tfa: tfa_status,\r\n        tfa_vis: tfa_vis,\r\n        tfa_vie: tfa_vie,\r\n      },\r\n      dataType: \"JSON\",\r\n    })\r\n  }\r\n\r\n  umv_setCookie(key, value, expiry) {\r\n    var expires = new Date()\r\n    expires.setTime(expires.getTime() + expiry * 24 * 60 * 60 * 1000)\r\n    document.cookie = key + \"=\" + value + \";expires=\" + expires.toUTCString()\r\n  }\r\n\r\n  umv_getCookie(key) {\r\n    var keyValue = document.cookie.match(\"(^|;) ?\" + key + \"=([^;]*)(;|$)\")\r\n    return keyValue ? keyValue[2] : null\r\n  }\r\n\r\n  umv_eraseCookie(key) {\r\n    this.umv_setCookie(key, null, \"1\")\r\n  }\r\n\r\n  umv_percentage_calculator(partialValue, totalValue) {\r\n    return Math.ceil((100 * partialValue) / totalValue, 10)\r\n  }\r\n}\r\n\r\nexport default UndoVotingButton\r\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = jQuery;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// Stylesheets.\r\nimport \"./styles/frontend.scss\"\r\n\r\n// Scripts.\r\nimport UndoVotingButton from \"./modules/UndoVotingButton\"\r\nnew UndoVotingButton()\r\n"],"names":["$","UndoVotingButton","constructor","length","$bpvm_umv_count","umv_getCookie","umv_setCookie","events","document","on","cbUndoMyVote","bind","e","preventDefault","$this","target","$umv_max_count","data","alert","parseInt","$bpvm_data_id","$post_id","$post_type","$vote_type","$vote_date","bpvm_btn_like","closest","find","bpvm_unique_id","attr","post_id","$pvm_btn_container","$bwl_pvm_container","parent","$pvm_stat_cnt","$pvm_total_vote_counter","$pvm_total_dislike_counter","$pvm_total_like_counter","$pvm_result_percentage_status","addClass","remove","show","slideUp","bpvm_data_array","Array","bpvm_data_stack","push","when","bpvm_remove_data","done","response_data","$up_total_likes","total_likes","$up_total_dislikes","total_dislikes","$up_total_votes","umv_percentage_calculator","html","removeClass","post_type","tfa_status","tfa_vis","tfa_vie","$pvm_dynamic_sort_wrapper","ajax","type","url","ajaxurl","bpvm_undo_vote","tfa","dataType","key","value","expiry","expires","Date","setTime","getTime","cookie","toUTCString","keyValue","match","umv_eraseCookie","partialValue","totalValue","Math","ceil"],"sourceRoot":""}